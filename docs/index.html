<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>NippoHub 分報</title>
  <meta name="description" content="分報サービス">
  <meta property="og:type" content="website">
  <meta property="og:title" content="NippoHub 分報">
  <meta property="og:description" content="分報サービス">
  <meta property="og:site_name" content="NippoHub 分報">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:creator" content="@sasurai_usagi3">
  <meta name="twitter:title" content="NippoHub 分報">
  <meta name="twitter:description" content="分報サービス">
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.7.1/firebase.js"></script>
  <script src="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.js"></script>
  <script>
    const config = {
      apiKey: 'AIzaSyCXywBE-aluaZRia5n2mNZpZQZqBIz0WTw',
      authDomain: 'nippohub-test.firebaseapp.com',
      databaseURL: 'https://nippohub-test.firebaseio.com',
      projectId: 'nippohub-test',
      storageBucket: 'nippohub-test.appspot.com',
      messagingSenderId: '741511136654'
    };
    firebase.initializeApp(config);
  </script>
  <script src="application.js"></script>
  <link rel="stylesheet" href="application.css">
  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.css" />
</head>
<body>
  <header class="l-header">
    <div class="l-header__content p-header-content">
      <h1 class="p-page-title">NippoHub be-ta</h1>
      <button id="js-sign-out" class="p-sign-out-link">サインアウト</button>
    </div>
  </header>
  <div id="js-page-container">
    <router-view :date="date" :current-user-id="currentUserId" :memos="memos"></router-view>
  </div>
  <div id="js-modal" class="p-modal" :hidden="hidden">
    <div class="p-modal__background" @click="close"></div>
    <div class="p-modal__box">
      <span>まとめた結果</span>
      <textarea id="js-summary-area" class="p-text-field u-mt-10" readonly></textarea>
    </div>
  </div>
  <template id="js-template-form-memo">
    <form id="js-form-memo" class="p-memo-form" @submit.prevent="submit" :hidden="hidden">
      <textarea id="js-content-text-field" class="p-text-field"></textarea>
      <div class="u-text-align-right u-mt-10">
        <button type="submit" class="p-btn">メモする</button>
      </div>
    </form>
  </template>
  <template id="js-template-memo-list">
    <ul class="p-memo-list">
      <li v-for="memo in memos">{{ memo.createdAt }} &gt; <span class="js-memo-contents">{{ memo.contents }}</li>
    </ul>
  </template>
  <template id="js-template-memo-page">
    <div class="l-container">
      <memo-form :current-user-id="currentUserId" :hidden="!isToday"></memo-form>
      <h2 class="p-list-title">{{ dateStr }}の日報</h2>
      <memo-list :memos="memos"></memo-list>
      <div class="u-mt-20">
        <div class="u-text-align-right u-mt-10">
          <button type="button" id="js-summary-btn" class="p-btn" @click="summaryMemos">まとめる</button>
        </div>
      </div>
      <div>
        <a :href="previousDateUrl">前日</a>
        <a id="js-link-next-day" :href="nextDateUrl">明日</a>
      </div>
    </div>
  </template>
  <template id="js-template-auth-page">
    <div>
      <div id="js-form-auth-area"></div>
    </div>
  </template>
</body>
</html>
